<div class="popup-wrapper" [class.open]="popupService.popup$ | async" (click)="close($event)">
    <div class="popup">
        <div class="popup-actions">
            <button class="edit btn" [disabled]="isEditable"  (click)="updateData()">Edit</button>
            <button class="view btn" [disabled]="!isEditable" (click)="saveData()">Save</button>
            <div class="close" (click)="close($event)">
            </div>
        </div>

        @let character = popupService.character$ | async;

        @if(character && form) {
        <div class="card" [id]="character.id">
            <img class="card-image" [src]="character.image">
            <div class="card-info">
                <p class="card-name">{{character.name}}</p>

                <div class="form" [formGroup]="form">
                    <label for="status"> Status:
                        <input type="text" [readonly] = "!isEditable" [class.editable]="isEditable" id="status" formControlName="status">
                    </label>
                    <label for="species"> Species:
                        <input type="text" [readonly] = "!isEditable" [class.editable]="isEditable" id="species" formControlName="species">
                    </label>
                    <label for="gender"> Gender:
                        <input type="text" [readonly] = "!isEditable" [class.editable]="isEditable" id="gender" formControlName="gender">
                    </label>
                    <label for="origin"> Origin:
                        <input type="text" [readonly] = "!isEditable" [class.editable]="isEditable" id="origin" formControlName="origin">
                    </label>
                    <label for="location"> Location:
                        <input type="text" [readonly] = "!isEditable" [class.editable]="isEditable" id="location" formControlName="location">
                    </label>
                </div>
            </div>
        </div>
        }

    </div>
</div>